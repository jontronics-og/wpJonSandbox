document.addEventListener("DOMContentLoaded",function(){if("#latest-insights"===window.location.hash){let e=document.getElementById("latest-insights");e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start"})},100)}var e=window.location.hostname;let t=window.location.protocol+"//"+e,r=8,n=1,c=[],a=[],o=new Set;function i(e){var e=(e-1)*r,t=e+r;return c.slice(e,t)}function s(){var e,t,a=Math.ceil(c.length/r);a<=1||((e=document.createElement("div")).className="pagination",1<n&&((t=document.createElement("button")).textContent="Previous",t.className="pagination-btn",t.onclick=()=>d(n-1),e.appendChild(t)),n<a&&((t=document.createElement("button")).textContent="Next",t.className="pagination-btn",t.onclick=()=>d(n+1),e.appendChild(t)),(a=document.getElementById("card-grid"))&&a.parentNode&&a.parentNode.insertBefore(e,a.nextSibling))}function d(e){l(i(n=e)),document.querySelector(".pagination")?.remove(),s(),m(),v()}function l(e){let o=document.getElementById("card-grid");o&&(o.innerHTML="",e.forEach((t,e)=>{if(t._embedded?.["wp:term"]){var a=document.createElement("div"),r=(a.className="content-card opacity-0 translate-y-8",t._embedded["wp:term"][0]);if(r?.length){var n=r.find(e=>12!==e.id),c=r.find(e=>12===e.id);let e='<div class="category-row">';n&&(e+=`<div class="icon ${u(n.id.toString())}">${n.name}</div>`),c&&(e+=`<div class="icon ${u("12")}">${c.name}</div>`),e+="</div>",a.innerHTML=`
                    <a href="${t.link}" class="card-link">
                        ${e}
                        <p class="card-text">${t.title.rendered}</p>
                        <div class="read-more">
                            <span class="wave-text">
                                ${Array.from("Read More â†’").map((e,t)=>`<span class="wave-letter" style="--i: ${t}">${" "===e?"&nbsp;":e}</span>`).join("")}
                            </span>
                        </div>
                    </a>`,a.dataset.categoryId=(n||r[0]).id.toString(),o.appendChild(a)}}}))}function u(e){switch(e){case"7":return"pink";case"9":return"green";case"8":return"blue";case"11":return"red";case"12":return"purple";case"":return"teal";case"":return"red";case"":return"indigo";case"":return"yellow";case"":return"rose";case"":return"cyan";case"":return"lime";default:return"pink"}}function m(){var e=document.querySelectorAll(".content-card");let a=new IntersectionObserver(e=>{e.forEach((e,t)=>{e.isIntersecting&&(setTimeout(()=>{e.target.classList.remove("opacity-0","translate-y-8"),e.target.classList.add("opacity-100","translate-y-0")},200*t),a.unobserve(e.target))})},{threshold:.1});e.forEach(e=>a.observe(e))}function v(){document.querySelectorAll(".wave-text").forEach(e=>{e.querySelectorAll(".wave-letter").forEach((e,t)=>{e.style.setProperty("--i",t)})})}document.querySelectorAll(".tag").forEach(t=>{t.addEventListener("click",()=>{var e=t.dataset.categoryId;"10"===e?(o.clear(),document.querySelectorAll(".tag").forEach(e=>e.classList.remove("active")),t.classList.add("active")):(document.querySelector('[data-category-id="10"]').classList.remove("active"),t.classList.contains("active")?(t.classList.remove("active"),o.delete(e)):(t.classList.add("active"),o.add(e)),0===o.size&&document.querySelector('[data-category-id="10"]').classList.add("active")),n=1,c=0===o.size?a:a.filter(e=>{let t=e._embedded["wp:term"][0].map(e=>e.id.toString());return 1===o.size&&o.has("12")?t.includes("12"):o.has("12")?t.includes("12")&&Array.from(o).filter(e=>"12"!==e).some(e=>t.includes(e)):Array.from(o).every(e=>t.includes(e))}),d(1)})}),(async()=>{try{var e=await fetch(t+"/wp-json/wp/v2/posts?_embed&per_page=100");return a=await e.json(),c=a,i(1)}catch(e){return console.error("Fetch error:",e),[]}})().then(e=>{console.log("Posts fetched:",e),l(e),s(),m(),v()}).catch(e=>{console.error("Error initializing posts:",e)})});